# Что делать дальше для интернет-магазина (ИМ)

Краткий список: где мы сейчас и что делать по шагам.

---

## Текущее состояние

**Уже есть:**
- Django-проект в `/new_box/hardcode-store/` (приложения `catalog`, `orders`)
- PostgreSQL: база `hardcode_store`, подключение через `.env`
- Главная страница (лендинг) — статичный `index.html` с бегущей строкой, хитами, «Почему мы»
- Django: первая страница по `/` (пока не отдаётся в проде — nginx отдаёт `index.html`)
- SSL для https://hardcode-it.store/

**Чего ещё нет:**
- Модели каталога и заказов (Category, Product, Order, OrderItem) + справочник способов доставки (DeliveryMethod)
- Реальный каталог товаров и страница товара (с учётом остатков)
- Корзина и оформление заказа
- Админка для товаров, категорий, заказов и способов доставки (обязательно; Django Admin — сразу после моделей)
- Уведомления (планируем Telegram: клиенту после заказа, админу о новом заказе)
- Слой сервисов для остатков (и позже — пользователей), чтобы потом вынести в отдельный сервис без переписывания логики

---

## Порядок работ (что делать дальше)

### 1. Модели и админка (Этап 0.4 + база для Этапа 4)

- **catalog** — модели Brand, Category, Product, ProductVariant, ProductMedia, ProductAttribute, ProductAttributeValue добавлены и зарегистрированы в админке. Атрибуты «Цвет» и «Размер» созданы миграцией.
- **orders** — модели Order, OrderItem пока не созданы (следующий шаг).
- Суперпользователь для админки: `admin` / `admin123` — **смени пароль после первого входа.**

**Результат:** в админке можно создавать бренды, категории, товары и варианты.

---

### 2. Каталог и карточка товара (Этап 1)

- Страница **списка товаров** (каталог): вывод карточек из БД, фильтр по категории.
- Страница **товара**: по slug или id — полное описание, фото, кнопка «В корзину».
- Подключить каталог к URL (например `/catalog/`) и связать с лендингом: кнопки «В каталог» ведут на эту страницу.

**Результат:** пользователь открывает каталог, видит товары из БД и может перейти на карточку товара.

---

### 3. Корзина и оформление заказа (Этап 2)

- **Корзина:** хранить состав в сессии Django (или в localStorage + синхронизация с бэком — как решите).
- Страница **корзины**: список позиций, изменение количества, удаление, итог.
- **Форма заказа:** имя, телефон, email, адрес, комментарий.
- Сохранение заказа в БД (Order + OrderItem), экран «Заказ принят» с номером.

**Результат:** можно добавить товар в корзину, оформить заказ, заказ появляется в БД и в админке.

---

### 4. Оплата и доставка (Этап 3)

- В заказе: выбор способа оплаты (при получении / онлайн) и способа доставки.
- Интеграция одной платёжной системы (ЮKassa, Robokassa и т.п.): оплата и обновление статуса заказа (webhook).

---

### 5. Уведомления и прод (Этап 5)

- **Уведомления (планируем Telegram):** клиенту после оформления заказа (состав, контакты); админу о новом заказе. Детали канала/бота — позже.
- Поиск по каталогу, SEO, выкладка Django на прод (gunicorn + nginx): главная и каталог отдаёт уже Django, лендинг можно оставить статичным или перенести в Django.

---

## Где что лежит

| Задача | Где делать |
|--------|------------|
| Модели каталога (Category, Product с остатком) | `catalog/models.py` |
| Модели заказов + справочник доставки | `orders/models.py` (Order, OrderItem, DeliveryMethod) |
| Админка (товары, категории, заказы, способы доставки) | `catalog/admin.py`, `orders/admin.py` |
| Контроль остатков (слой сервиса под вынос в отдельный сервис) | Отдельный модуль/сервис, вызов из views при добавлении в корзину и оформлении заказа |
| Список товаров, карточка товара (остаток на витрине) | `catalog/views.py`, шаблоны в `templates/catalog/` |
| Корзина, оформление заказа, статусы заказа | `orders/views.py`, шаблоны в `templates/orders/` |
| Полный план по этапам | [PLAN_INTERNET_MAGAZIN.md](PLAN_INTERNET_MAGAZIN.md) |
| Требования ИМ (остатки, ЛК, вынос в сервис) | [IM_REQUIREMENTS.md](IM_REQUIREMENTS.md) |

---

## Следующий шаг

**Сейчас логично сделать:** пункт **1** — модели Category, Product, Order, OrderItem + миграции + регистрация в Django Admin. После этого можно добавлять товары через админку и делать каталог (п. 2).

Если хочешь, могу расписать модели по полям и пример кода для `models.py` и `admin.py`.
